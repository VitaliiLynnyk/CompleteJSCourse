<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Js courses</title>
  </head>
  <main class="main challenge-7">
    <h1 class="heading-secondary">
      Coding challenge 1
    </h1>
    <section class="section">
      <div class="section__code">
        <h2 class="heading-primary--sub">
          Code Quize ( Open Console ) and Click on Button
        </h2>
        <button class="main__item" style="margin: 0 auto;">
          <a class="main__link" href="#">
            Run Quize
          </a>
        </button>
        <pre class="prettyprint">
            class Question {
                constructor(question, answers) {
                  this.question = question;
                  this.answers = answers;
                }
              }
                  
            class Answer {
                constructor(answer, correct = 0) {
                  this.answer = answer;
                  this.correct = correct;
                }
            }
                  
            const questionsText = ["What is your favorite store in the mall?",
                "What's the longest you've gone without showering?",
                "If you found $100 on the ground, what would you do with it?",
                "Are you smarter than your parents?",
                "Do you play any sports?",
                "What do you miss most about being a kid?"];
                  
            const answersText = ["Yes", "Nope", "Maybe"];
                  
            const answersArray = answersText.map(item => new Answer(item));
                  
            const questionArray = questionsText.map(qoute => new Question(qoute, deepCopy(answersArray)))
                .map(question => {
                    const random = Math.floor(Math.random() * question.answers.length);
                  
                    question.answers[random].correct = 1;
                    return question;
                });
                  
            function deepCopy(obj) {
                let out, v, key;
                out = Array.isArray(obj) ? [] : {};
                for (key in obj) {
                  v = obj[key];
                  out[key] = (typeof v === "object" && v !== null) ? deepCopy(v) : v;
                }
                return out;
            }
                  
            function quize(array) {
                let questions = deepCopy(array);
                let score = 0;
                  
                console.log(`\n\nStart Game`);
                console.log(`Please enter correct values`);
                  
                while (questions.length) {
                    let i = 0;
                    let random = Math.floor(Math.random() * questions.length);
                    const question = questions.splice(random, 1);
                    
                    console.log(`\n${question[0].question}`);
                    question[0].answers.forEach(answer => {
                        console.log(`${i++} ${answer.answer}`);
                    });
                    
                    const promptAnswer = prompt(question[0].question);
                      
                console.log("------------------------------------------");
                  
                    if (question[0].answers[promptAnswer] == null) {
                        console.log(`Please enter correct value`);
                        return;
                    } else if (question[0].answers[promptAnswer].correct) {
                        score++;
                        console.log(`Yes, you are right ðŸ¥³  score = ${score}`);
                    } else {
                        console.log(`Sorry, try next ðŸ¤” score = ${score}`);
                    }                  
                    console.log("------------------------------------------");
                }
                console.log(`\n\nCongratulation`);
                console.log(`ðŸ¥³ðŸ¥³ðŸ¥³ðŸ¥³ðŸ¥³`);
                console.log(`score  = ${score}`);
            }
                  
            document.querySelector(".main__item").addEventListener("click", ()=> quize(questionArray));
        </pre>
      </div>
    </section>
  </main>
  <body>
    <footer class="footer u-margin-top-medium">
      <section class="footer__section">
        <ul>
          <li>get in touch &rarr;</li>
          <li>
            <a href="https://twitter.com/qu1etRain">
              <img
                class="icon"
                src="https://image.flaticon.com/icons/svg/59/59046.svg"
              />
            </a>
          </li>
          <li>
            <a href="https://codepen.io/VitaliiLynnyk">
              <img
                class="icon"
                src="http://cdn.onlinewebfonts.com/svg/img_336066.png"
              />
            </a>
          </li>
          <li>
            <a href="https://github.com/VitaliiLynnyk">
              <img
                class="icon"
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Feather-logos-github.svg/1024px-Feather-logos-github.svg.png"
              />
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com/vitalii.lynnyk/">
              <img
                class="icon"
                src="https://cdn2.iconfinder.com/data/icons/social-networks-18/100/Instagram_logo-512.png"
              />
            </a>
          </li>
        </ul>
      </section>
    </footer>
    <script src="index.js"></script>
  </body>
</html>
